{"version":3,"file":"scripts.min.js","mappings":"oBAAIA,EAASC,OAYb,SAASC,IACPF,EAAOG,YAAYC,OAChBC,SAAQ,SAACC,GACRC,MAAMC,KAAKC,SAASC,uBAAuBJ,IACxCD,SAAQ,SAACM,IACHA,EAAQC,UAAUC,SAAS,yBAQ1C,SAA8BF,GAC5B,IAAIG,EAAOH,EAAQI,wBAEnB,OACID,EAAKE,KAAO,GACZF,EAAKG,MAAQ,GACbH,EAAKI,SAAWjB,OAAOkB,aAAeV,SAASW,gBAAgBC,eAC/DP,EAAKQ,QAAUrB,OAAOsB,YAAcd,SAASW,gBAAgBI,aAfEC,CAAoBd,KAmBzF,SAAsBA,EAAce,EAAcC,GAChD,IAAIC,EAAiBC,KAAKC,MACpBC,EAAO,WAET,IAAMC,EAAWC,KAAKC,KAAKL,KAAKC,MAAQF,GAtBwB,IAsBD,GAE/DjB,EAAQwB,UAAYF,KAAKG,MAAMJ,EAAWN,GAEtCM,EAAW,EAAG/B,OAAOoC,sBAAsBN,GAC1C9B,OAAOqC,qBAAqBrC,OAAOoC,sBAAsBN,KAGlE9B,OAAOoC,sBAAsBN,GA9BnBQ,CAAa5B,EAASA,EAAQ6B,aAAa,eAC3C7B,EAAQC,UAAU6B,IAAI,+BAlBhB,QAAlB,EAAAzC,EAAOG,mBAAW,QAAlBH,EAAOG,YAAgB,IACA,QAAvB,KAAAH,EAAOG,aAAYuC,YAAI,UAAJA,KAGnB,SAAyB,G,IAAEpC,EAAK,QAC9BN,EAAOG,YAAYC,OAAOuC,KAAKrC,GAC/BJ,MAJuB,QAAzB,KAAAF,EAAOG,aAAYC,cAAM,UAANA,OAAW,IAO9BH,OAAO2C,iBAAiB,UAAU,WAAM,OAAA1C,Q","sources":["webpack://app-counter2/./src/ts/index.ts"],"sourcesContent":["var winAny = window as any;\r\nwinAny.appCounter2 ??= {};\r\nwinAny.appCounter2.init ??= initAppCounter2;\r\nwinAny.appCounter2.domIds ??= [];\r\n\r\nfunction initAppCounter2({ domId } : { domId: string }) {\r\n  winAny.appCounter2.domIds.push(domId);\r\n  checkCounters();\r\n}\r\n\r\nwindow.addEventListener('scroll', () => checkCounters());\r\n\r\nfunction checkCounters() {\r\n  winAny.appCounter2.domIds\r\n    .forEach((domId: string) => {\r\n      Array.from(document.getElementsByClassName(domId))\r\n        .forEach((counter: HTMLElement) => {\r\n          if (!counter.classList.contains('app-counter2-js-seen') && isElementInViewport(counter)) {\r\n            startCounter(counter, counter.getAttribute('data-count'), 2000);\r\n            counter.classList.add('app-counter2-js-seen')\r\n          }\r\n        });\r\n  });\r\n}\r\n\r\nfunction isElementInViewport (counter: HTMLElement) {\r\n  var rect = counter.getBoundingClientRect();\r\n\r\n  return (\r\n      rect.top >= 0 &&\r\n      rect.left >= 0 &&\r\n      rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\r\n      rect.right <= (window.innerWidth || document.documentElement.clientWidth)\r\n  );\r\n}\r\n\r\nfunction startCounter(counter: any, lastVal: any, duration: any) {\r\n  let startTime: any = Date.now();\r\n  const step = () => {\r\n      //calculate the value to be used in calculating the number to be displayed\r\n      const progress = Math.min((Date.now() - startTime) / duration, 1);\r\n      //calculate what to be displayed using the value gotten above\r\n      counter.innerHTML = Math.floor(progress * lastVal);\r\n      //checking to make sure the counter does not exceed the last value (lastVal)\r\n      if (progress < 1) window.requestAnimationFrame(step);\r\n      else window.cancelAnimationFrame(window.requestAnimationFrame(step));\r\n  };\r\n\r\n  window.requestAnimationFrame(step);\r\n}"],"names":["winAny","window","checkCounters","appCounter2","domIds","forEach","domId","Array","from","document","getElementsByClassName","counter","classList","contains","rect","getBoundingClientRect","top","left","bottom","innerHeight","documentElement","clientHeight","right","innerWidth","clientWidth","isElementInViewport","lastVal","duration","startTime","Date","now","step","progress","Math","min","innerHTML","floor","requestAnimationFrame","cancelAnimationFrame","startCounter","getAttribute","add","init","push","addEventListener"],"sourceRoot":""}